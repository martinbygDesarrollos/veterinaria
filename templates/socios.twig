{% extends "base.twig" %}
{% block head %}
{% endblock %}
{% block content %}
<div class="d-flex justify-content-center">
	<div class="card border-top-0 rounded-bottom border shadow w-75">
		<div class="card-header d-flex justify-content-between bg-mycolor">
			<h5 class="card-title">Clientes</h5>
			<a class="btn btn-dark" data-toggle="tooltip" data-placement="top" title="Agregar nuevo cliente" href="{{ path_for('NewSocio')}}"><i class="fas fa-user-plus"></i></a>
		</div>
		<div class="card-body">
			<div class="d-flex justify-content-between mb-2">
				<div class="input-group mb-3 w-50">
					<input id="textToSearch" type="text" class="form-control shadow-sm w-50 mr-3" onchange="buscarSocio(this)" onkeyup="this.onchange()" placeholder="Buscá por nro de cliente, nombre de cliente o nombre de mascota...">
					<!--select class="form-control mr-3" onchange="changeTipoCliente(this.value)" >
						<option value="" >Seleccionar</option>
						<option value="1">Socio</option>
						<option value="3">Ex socio</option>
						<option value="0">No socio</option>
						<option value="2">ONG</option>
					</select>
					<select class="form-control mr-3" onchange="changeTipoDeuda(this.value)" >
						<option value="" >Seleccionar</option>
						<option value="deuda" >Con deuda</option>
						<option value="sindeuda" >Al día</option>
					</select-->
				</div>
				<div class="mr-3">
					<div class="form-check">
						<input class="form-check-input" type="radio" name="flexRadioDefault" onchange="changeSociosState()" id="inputActiveSocio" checked>
						<label class="form-check-label" for="inputActiveSocio">Activos</label>
					</div>
					<div class="form-check">
						<input class="form-check-input" type="radio" name="flexRadioDefault" onchange="changeSociosState()" id="inputInactiveSocio">
						<label class="form-check-label" for="inputInactiveSocio">Inactivos</label>
					</div>
				</div>
			</div>
			<div id="containerTable">
				<table class="table">
					<thead class="bg-mycolor">
						<tr>
							<td class="text-center notShowMobile" scope="col">Nº</td>
							<td class="text-center" scope="col">Nombre</td>
							<td class="text-center" scope="col">Mascotas</td>
							<td class="text-center" scope="col">Celular</td>
							<!--td class="text-center notShowMobile" scope="col">Dirección</td-->
							<!--td class="text-center notShowMobile" scope="col">Cuota</td-->
							<td class="text-center notShowMobile" scope="col">Pendiente</td>
							<td class="text-center notShowMobile" scope="col">Pago</td>
							<td class="text-center" scope="col"><i class="fab fa-whatsapp"></i></td>
						</tr>
					</thead>
					<tbody id="tbodySocios"></tbody>
				</table>
			</div>
		</div>
	</div>
</div>
{%block script%}
<script type="text/javascript" src="{{path_for('Inicio')}}scripts/utils/showReplyMessage.js?{{version}}"></script>
<script type="text/javascript" src="{{path_for('Inicio')}}scripts/utils/sendPost.js?{{version}}"></script>
<script type="text/javascript" src="{{path_for('Inicio')}}scripts/utils/utils.js?{{version}}"></script>
<script type="text/javascript" src="{{path_for('Inicio')}}scripts/socios.js?{{version}}"></script>
<script type="text/javascript">
	cargarTablaSocios();
	$('#containerTable').on('scroll', function() {
		if($(this).scrollTop() + $(this).innerHeight() >= ($(this)[0].scrollHeight -10) ) {
			cargarTablaSocios();
		}
	});
</script>
{% endblock %}
{% endblock %}